@using System
@using Microsoft.AspNetCore.Mvc.Rendering
<!DOCTYPE html>
@{
    ViewBag.BootstrapVersion = 3;
    var help = "https://music4dance.blog/music4dance-help/";
    if (!string.IsNullOrEmpty(ViewBag.Help))
    {
        help = string.Format("https://music4dance.blog/music4dance-help/{0}/",ViewBag.Help);
    }
}
<html>
<head>
    @if (!User.IsInRole("premium"))
    {
        <!-- Google Adsense Verifier -->
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <script>
            (adsbygoogle = window.adsbygoogle || []).pauseAdRequests = 1;
            console.log("Ads are paused");
            (adsbygoogle = window.adsbygoogle || []).push({
                google_ad_client: "ca-pub-8181165353763371",
                enable_page_level_ads: true
            });
            if (document.cookie.indexOf("cookieconsent_status=dismiss") !== -1) {
                console.log("Ads are running");
                (adsbygoogle = window.adsbygoogle || []).pauseAdRequests = 0;
            }
        </script>
    }
    <!-- TradeDoubler site verification 2516966 -->
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - Music4Dance: Shall we dance...to music?</title>
    @if (!string.IsNullOrEmpty(ViewBag.Description))
    {
        <meta name="description" content="@ViewBag.Description"/>
    }
    @if (!string.IsNullOrEmpty(ViewBag.Canonical))
    {
        <link rel="canonical" href="@ViewBag.Canonical"/>
    }

    <link rel="shortcut icon" href="~/images/favicon.png"/>
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro|Merienda:700" rel="stylesheet" type="text/css">
    @{
        var theme = "tools";
        if (!string.IsNullOrEmpty(ViewBag.Theme))
        {
            theme = ViewBag.Theme;
        }
        var themeBundle = "/css/" + theme + "-theme.css";
    }
    
    <link rel="stylesheet" href="@themeBundle"/>
    @RenderSection("styles", false)
    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] ||
                function() {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-54250212-1', 'auto');
        ga('send', 'pageview');
    </script>
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css"/>
    <script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
    <script>
        window.addEventListener("load",
            function() {
                window.cookieconsent.initialise({
                    palette: {
                        "popup": {
                            "background": "#1d8a8a"
                        },
                        "button": {
                            "background": "#62ffaa"
                        }
                    },
                    onStatusChange: function(status) {
                        console.log('Status Changed to: ' + status);
                        if (status === "dismiss" || status === "allow") {
                            console.log("Ads are running");
                            (window.adsbygoogle = window.adsbygoogle || []).pauseAdRequests = 1;
                        }
                    },
                    theme: "classic",
                    content: {
                        "href": "home/privacypolicy#GDPR"
                    }
                });
            });
    </script>
</head>
<body>
    <div class="navbar navbar-default navbar-custom navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a href="/" class="navbar-logo">
                    <img src="/images/header-logo.png" title="music4dance" />
                </a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Music <span class="caret"></span></a>
                        <ul class="dropdown-menu" role="menu">
                            <li>
                                @Html.ActionLink("Dances", "index", "dances")
                            <ul style="list-style-type: none" role="menu">
                                <li>@Html.ActionLink("Ballroom", "ballroom-competition-categories", "dances")</li>
                                <li>@Html.ActionLink("Latin", "latin", "dances")</li>
                                <li>@Html.ActionLink("Swing", "swing", "dances")</li>
                                <li>@Html.ActionLink("Tango", "tango", "dances")</li>
                            </ul>
                        </li>
                        <li>
                            @Html.ActionLink("Song Library", "index", "song")
                            <ul style="list-style-type: none" role="menu">
                                <li>@Html.ActionLink("Advanced Search", "advancedsearchform", "song")</li>
                            </ul>
                            <ul style="list-style-type: none" role="menu">
                                <li>@Html.ActionLink("Add Song", "augment", "song")</li>
                            </ul>
                            <ul style="list-style-type: none" role="menu">
                                @Html.ActionLink("New Music", "newmusic", "song", new { type = "Created" }, null)
                            </ul>
                        </li>
                        <li>@Html.ActionLink("Wedding", "wedding-music", "dances")</li>
                        <li>@Html.ActionLink("Holiday", "holiday-music", "dances")</li>
                        <li>@Html.ActionLink("Tags", "index", "tag")</li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tools <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li>@Html.ActionLink("Tempo Counter", "counter", "Home")</li>
                        <li>@Html.ActionLink("Tempi (Tempos)", "tempi", "Home")</li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Info <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="@help">Help</a></li>
                        <li><a href="https://music4dance.blog">Blog</a></li>
                        <li>@Html.ActionLink("FAQ", "FAQ", "Home")</li>
                        <li>@Html.ActionLink("About Us", "About", "Home")</li>
                        <li><a href="https://music4dance.blog/reading-list/">Reading List</a></li>
                        <li>@Html.ActionLink("Site Map", "sitemap", "Home")</li>
                        <li>@Html.ActionLink("Privacy Policy", "privacypolicy", "Home")</li>
                        <li>@Html.ActionLink("Credits", "credits", "Home")</li>
                    </ul>
                </li>
                <li>@Html.ActionLink("Contribute", "Contribute", "Home")</li>

                @*<li>@Html.ActionLink("Contact", "Contact", "Home")</li>*@
                @if (User.IsInRole("showDiagnostics"))
                {
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Admin <span class="caret"></span></a>
                        <ul class="dropdown-menu" role="menu">
                            <li>@Html.ActionLink("Index", "Index", "Admin")</li>
                            <li>@Html.ActionLink("Users", "Index", "ApplicationUsers")</li>
                            <li>@Html.ActionLink("Tags", "Tags", "Admin")</li>
                            <li>@Html.ActionLink("Diagnostics", "Diagnostics", "Admin")</li>
                            <li>@Html.ActionLink("Initialization and Cleanup", "InitializationTasks", "Admin")</li>
                            <li>@Html.ActionLink("Song Scrapers", "Scraping", "Admin")</li>
                            <li>@Html.ActionLink("PlayLists", "Index", "PlayList")</li>
                            @if (User.IsInRole("dbAdmin"))
                            {
                                <li>@Html.ActionLink("Uploads and Backups", "UploadBackup", "Admin")</li>
                            }
                        </ul>
                    </li>
                }
                </ul>
                <partial name="_LoginPartial" />
            </div>
        </div>
    </div>
    <div class="container-fluid body-content">
        @RenderBody()
        <div class="row">
            <div class="col-xs-12">
                <hr />
                <footer>
                    <p>&copy; @DateTime.Now.Year - Music4Dance.net -
                    @Html.ActionLink("Site Map", "sitemap", "Home") - 
                    @Html.ActionLink("Terms of Service","termsofservice","Home") - 
                    @Html.ActionLink("Privacy Policy", "privacypolicy","Home") - 
                    @Html.ActionLink("Credits", "credits", "Home") - 
                    <a href="@help">Help</a>
                    </p>
                </footer>
            </div>
        </div>
    </div>

    <environment include="Development">
        <script src="~/vendor/jquery/jquery.js"></script>
        <script src="~/vendor/jquery-validation/jquery.validate.js"></script>
        <script src="~/vendor/bootstrap3/js/bootstrap.js"></script>
        <script src="~/vendor/knockout/knockout-latest.debug.js"></script>
        <script src="~/vendor/knockout-mapping/knockout.mapping.js"></script>
    </environment>

    <environment exclude="Development">
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"
                asp-fallback-src="~/vendor/jquery/jquery.min.js"
                asp-fallback-test="window.jQuery"
                integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo= sha384-vk5WoKIaW/vJyUAd9n/wmopsmNhiy+L2Z+SBxGYnUkunIxVxAv/UtMOhba/xskxh sha512-bnIvzh6FU75ZKxp0GXLH9bewza/OIw6dLVh9ICg0gogclmYGguQJWl8U30WpbsGTqbIiAwxTsbe76DErLq5EDQ=="
                crossorigin="anonymous"></script>
        <script src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.19.1/jquery.validate.min.js"
                asp-fallback-src="~/vendor/jquery-validation/jquery.validate.min.js"
                asp-fallback-test="window.jQuery && window.jQuery.validator"
                integrity="sha256-sPB0F50YUDK0otDnsfNHawYmA5M0pjjUf4TvRJkGFrI= sha384-6UVI3atWyL/qZbDIJb7HW8PyHhFNMiX5rYNY2gAYcaYJjYk5cNIQShSQPBleGMYu sha512-0QDLUJ0ILnknsQdYYjG7v2j8wERkKufvjBNmng/EdR/s/SE7X8cQ9y0+wMzuQT0lfXQ/NhG+zhmHNOWTUS3kMA=="
                crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
                asp-fallback-src="~/vendor/bootstrap3/bootstrap.min.js"
                asp-fallback-test="$.fn.modal"
                integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.1/knockout-latest.min.js"
                asp-fallback-src="~/vendor/knockout/knockout-latest.js"
                asp-fallback-test="window.ko"
                integrity="sha256-jJyt8tNAuaX/On9GARFt3EUXR5hrOz0Cyx1sXyFl1VM= sha384-PA7LgTHoYGwvEy2evWvC3sNOQlmK/vfk//sStiSk3QK3fUDO8oN3VKvHgSPyVKqx sha512-vs7+jbztHoMto5Yd/yinM4/y2DOkPLt0fATcN+j+G4ANY2z4faIzZIOMkpBmWdcxt+596FemCh9M18NUJTZwvw=="
                crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout.mapping/2.4.1/knockout.mapping.min.js"
                asp-fallback-src="~/vendor/knockout-mapping/knockout-mapping.min.js"
                asp-fallback-test="window.ko.mapping"
                integrity="sha256-gaGobNk1cPaj0abcVmyZxUYgCPsueCJwN5i4DjC4BS0= sha384-5iaafnDCmIZLLNfCHYJwy/FQZf6AXVLgSx8wPvUvkOOOFk7ODxEXwdfxgHW3dv4a sha512-1LyBPWtezbX0LO4X4QzhfZd9jSetVu5W0IFpMV9ecq4lJUQBR6hx8uiNfUI2Aoe7LCF4rK1NV3rY+uil4VJ3QQ=="
                crossorigin="anonymous"></script>
    </environment>

    @RenderSection("scripts", required: false)
</body>
</html>
