@model m4dModels.SongDetails

<fieldset>
    <div class="display-label">
        @Html.DisplayNameFor(model => model.Artist):
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.Artist)
    </div>
    <br />

    @if (Model.Tempo != null)
    {
        <div class="display-label">
            @Html.DisplayNameFor(model => model.Tempo):
        </div>
        <div class="display-field">
            @decimal.Round(Model.Tempo.Value).ToString("F0") BPS
        </div>
        <br />
    }

    @if (Model.Length != null)
    {
        DanceLibrary.SongDuration duration = new DanceLibrary.SongDuration((decimal)Model.Length);
        string length = duration.ToString("M");
        <div class="display-label">
            @Html.DisplayNameFor(model => model.Length):
        </div>
        <div class="display-field">
            @length
        </div>
        <br />
    }

    @if (Model.DanceRatings != null)
    {
        string dl = null;
        string separator = "";         
        if (Model.DanceRatings.Count == 1)
        {
            dl = "Dance: ";
        }
        else
        {
            dl = "Dances: ";
        }
        <div class="display-label">
            @dl
        </div>
        <div class="display-field">
            @foreach (var item in Model.DanceRatings)
            {
                <text>@separator</text>
                @Html.DisplayFor(model => item.Dance.Info.Name);
                separator = ", ";
            }
        </div>
    <br />
    }
    
    @if (Model.HasAlbums)
    {
        if (Model.Albums.Count == 1)
        {
            <div class="display-label">
                Album:
            </div>
            @Html.Partial("AlbumDetails", Model.Albums[0]);
            <br/>
        }
        else
        {
            <div class="display-label">
                Albums:
            </div>
            <ul>
                @foreach (m4dModels.AlbumDetails album in Model.Albums )
                {
                    <li>@Html.Partial("AlbumDetails",album)</li>
                }
            </ul>
        }
    }

    @if (Model.Genre != null)
    {
        <div class="display-label">
            @Html.DisplayNameFor(model => model.Genre):
        </div>
        <div class="display-field">
            @Html.DisplayFor(model => model.Genre)
        </div>
        <br />
    }

    @*<div class="display-label">
        @Html.DisplayNameFor(model => model.Created):
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.Created)
    </div>
    <br />

    <div class="display-label">
        @Html.DisplayNameFor(model => model.Modified):
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.Modified)
    </div>
    <br />
    <br />*@

</fieldset>

