@model m4d.ViewModels.ProfileViewModel

@{
    ViewBag.Title = "EditProfile";
    //ViewBag.Region = Model.RegionItems;
}

<h2>About You</h2>
<p>Please take a moment to answer a few questions about your location and communication preferences.</p>
@using (Html.BeginForm(new { ReturnUrl = ViewBag.ReturnUrl }))
{
    @Html.AntiForgeryToken()
    
    <div class="form-horizontal">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.Name)

        <div class="form-group row">
            @Html.LabelFor(model => model.Region, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownListFor(model => model.Region, Model.RegionItems, new { htmlAttributes = new { @class = "form-control" } })
                @*@Html.ValidationMessageFor(model => model.Region, "", new {@class = "text-danger"})*@
            </div>
        </div>

        <div class="form-group row">
            <label class="control-label col-md-2">Share my profile or tags with other members.</label>
            <div class="col-md-10">
                <div class="checkbox">
                    @Html.EditorFor(model => model.PublicProfile)
                    @Html.ValidationMessageFor(model => model.PublicProfile, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>

        <div class="form-group row">
            <h4 class="col-md-12">Contact:</h4>
            <ul class="col-md-11 col-md-offset-1 list-clean">
                @foreach (var item in Model.ContactOptions)
                {
                    <li>
                        <input id="contact@(item.Key)"
                               type="checkbox"
                               name="ContactSelection"
                               value="@item.Key"
                               @(Model.ContactSelection.Contains(item.Key) ? "checked" : "") />
                        <label for="contact@(item.Key)">@item.Value</label>
                    </li>
                }
            </ul>
        </div>

        <div class="form-group row">
            <h4 class="col-md-12">Music Service:</h4>
            <ul class="col-md-11 col-md-offset-1 list-clean">
                @foreach (var item in Model.ServiceOptions)
                {
                    <li>
                        <input id="service@(item.Key)"
                               type="checkbox"
                               name="ServiceSelection"
                               value="@item.Key"
                               @(Model.ServiceSelection.Contains(item.Key) ? "checked" : "") />
                        <label for="service@(item.Key)">@item.Value</label>
                    </li>
                }
            </ul>
        </div>

        <div class="form-group row">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Save" class="btn btn-default" />
            </div>
        </div>
    </div>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>
